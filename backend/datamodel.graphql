enum Permission {
  ADMIN
  USER
  INSTRUTOR
  VIDEOCREATE
  COURSECREATE
  PERMISSIONUPDATE
}

enum State {
  PUBLISHED
  UNPUBLISHED
}

type Interest {
  id: ID! @unique
  name: String!
  thumbnail: String!
}
type CourseInterest {
  id: ID! @unique
  interest: Interest!
  course: Course!
}
type UserInterest {
  id: ID! @unique
  interest: Interest!
  user: User!
}

type User {
  id: ID! @unique
  name: String!
  email: String! @unique
  password: String!
  interests: [UserInterest]!
  resetToken: String
  resetTokenExpiry: Float
  permission: [Permission]
  courses: [UserCourse!]!
}

# user
type Course {
  id: ID! @unique
  title: String
  videos: [CourseVideos!]!
  description: String!
  thumbnail: String!
  #user com permissao para poder criar um curso
  user: User!
  createdAt: DateTime!
  updatedAt: DateTime!
  # target: [Target]! @default(value: "JavaScript")
  state: State @default(value: "UNPUBLISHED")
  price: Float!
  category: Category!
  interest: [CourseInterest!]!
}

# item
type Video {
  id: ID! @unique
  title: String!
  description: String!
  state: State! @default(value: "UNPUBLISHED")
  user: User!
  urlVideo: String!
  file: String
  createdAt: DateTime!
  updatedAt: DateTime!
}

# CartItem
type CourseVideos {
  id: ID! @unique
  course: Course!
  video: Video
}

# type ComVideo {
#   id: ID! @unique
#   comment: String!
#   video: Video!
#   user: User!
#   createdAt: DateTime!
#   updatedAt: DateTime!
# }

type Category {
  id: ID! @unique
  name: String!
}

# type Rate {
#   id: ID! @unique
#   rate: Float!
#   user: User!
#   course: Course!
#   createdAt: DateTime!
#   updatedAt: DateTime!
# }

type ComCourse {
  id: ID! @unique
  comment: String!
  user: User!
  course: Course!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type UserCourse {
  id: ID! @unique
  user: User!
  course: Course!
  progress: Float!
}
