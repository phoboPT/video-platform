#import * from './generated/prisma.graphql'

type SuccessMessage {
  message: String
}

type User {
  id: ID!
  name: String!
  email: String!
  permission: [Permission]
}

type Mutation {
  createVideo(
    title: String!
    description: String
    category: ID!
    thumbnail: String
    urlVideo: String
  ): Video!
  updateVideo(
    id: ID!
    title: String
    description: String
    category: String
  ): Video!
  deleteVideo(id: ID!): Video
  createCategory(name: String!): Category!
  updateCategory(id: ID!, name: String!): Video!
  deleteCategory(id: ID!): Category
  createComVideo(comment: String!, video: ID!): ComVideo!
  updateComVideo(id: ID!, comment: String!): ComVideo!
  deleteComVideo(id: ID!): ComVideo
  signup(email: String!, password: String!, name: String!): User!
  signin(email: String!, password: String!): User!
  signout: SuccessMessage
  updatePassword(password: String): User!
  updateUser(name: String, email: String): User!
  requestReset(email: String!): SuccessMessage
  resetPassword(
    resetToken: String!
    password: String!
    confirmPassword: String!
  ): User!
  createCurso(name: String!, video: String!, target: String!): Curso!
  updateCurso(id: ID!, name: String!, video: String!, target: String!): Curso!
  deleteCurso(id: ID!): Curso
}

type Query {
  # querys sellect all
  videos: [Video]!
  categorys: [Category]!
  comVideos: [ComVideo]!
  users: [User]!
  cursos: [Curso]!
  # querys selecionar por id
  video(where: VideoWhereUniqueInput!): Video
  category(where: CategoryWhereUniqueInput!): Category
  comVideo(where: VideoWhereUniqueInput!): ComVideo
  # querys selecionar a comparar com id de outra tabela(users) ( select geral)
  videosUser: [Video]
  cursosUser: [Curso]
  comsVideo(id: ID!): [ComVideo]

  me: User

  #pagination
  videosConnection(where: VideoWhereInput): VideoConnection!
}
