#import * from './generated/prisma.graphql'

type SuccessMessage {
  message: String
}

type User {
  id: ID!
  name: String!
  email: String!
  permission: [Permission]
}

type Mutation {
  createVideo(
    title: String!
    description: String
    urlVideo: String
    course: ID!
    file: String
  ): Video!
  updateVideo(
    id: ID!
    title: String
    description: String
    category: String
  ): Video!
  deleteVideo(id: ID!): Video
  createCategory(name: String!): Category!
  updateCategory(id: ID!, name: String!): Video!
  deleteCategory(id: ID!): Category
  signup(email: String!, password: String!, name: String!): User!
  signin(email: String!, password: String!): User!
  signout: SuccessMessage
  updatePassword(id: ID!, password: String, confirmPassword: String): User!
  updateUser(id: ID!, name: String, email: String): User!
  requestReset(email: String!): SuccessMessage
  resetPassword(
    resetToken: String!
    password: String!
    confirmPassword: String!
  ): User!
  createCourse(
    title: String!
    # target: [String]!
    thumbnail: String!
    description: String!
    price: Float!
    category: ID!
  ): Course!
  addTargetCourse(courseId: ID!, interestId: ID!): Course!
  removeFromCourse(id: ID!, courseId: ID!): Course
  updateCourse(
    id: ID!
    title: String
    thumbnail: String
    description: String
  ): Course!
  deleteCourse(id: ID!): CourseVideos
  createComCourse(courseId: ID!, comment: String!): ComCourse!
  updateComCourse(id: ID!, comment: String): ComCourse!
  deleteComCourse(id: ID!): ComCourse
}

type Query {
  #searchbar
  videosUserSearch(
    where: VideoWhereInput
    orderBy: VideoOrderByInput
    skip: Int
    first: Int
  ): [Video]

  coursesSearch(
    where: CourseWhereInput
    orderBy: CourseOrderByInput
    skip: Int
    first: Int
  ): [Course]

  # querys sellect all
  categories: [Category]!
  users: [User]!
  courses: [Course]!
  interests: [Interest]!

  # querys selecionar por id
  video(where: VideoWhereUniqueInput!): Video
  category(where: CategoryWhereUniqueInput!): Category
  user(where: UserWhereUniqueInput!): User
  course(where: CourseWhereUniqueInput!): Course!
  comCourse(where: ComCourseWhereUniqueInput!): ComCourse

  # querys selecionar a comparar com id de outra tabela(users) ( select geral)
  videosUser(
    where: VideoWhereInput
    orderBy: VideoOrderByInput
    skip: Int
    first: Int
  ): [Video]

  videos(
    where: VideoWhereInput
    orderBy: VideoOrderByInput
    skip: Int
    first: Int
  ): [Video]!

  videosSearch(where: VideoWhereInput!): [Video]

  # listar todos os comentarios de um curso
  comCourseList(id: ID!, orderBy: ComCourseOrderByInput): [ComCourse]
  # Listar todos os cursos de um User
  coursesUser: [Course]
  # Information about actual user
  me: User

  #pagination
  videosConnection(where: VideoWhereInput): VideoConnection!
}
